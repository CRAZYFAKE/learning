[TOC]



# 测试驱动开发

## 定义

测试驱动开发是敏捷开发中一项核心实践和技术，也是一种设计方法论。

​	TDD的原理是在开发功能代码之前，先编写单元测试用例代码，测试代码确定需要编写什么产品代码，然后再编写业务逻辑代码。

​	TDD的基本思路就是通过测试来推动整个开发的进行，单测试驱动开发并不只是单纯的测试工作，而是吧需求分析、设计，质量控制量化的过程。

​	TDD的重要目的不仅仅是测试软件，测试工作保证代码质量仅仅是其中一部分，而且是在开发过程中帮助客户和程序员去除模棱两可的需求。TDD首先考虑使用需求（对象、功能、过程、接口等），主要是编写[测试用例](https://baike.baidu.com/item/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B)框架对功能的过程和接口进行设计，而测试框架可以持续进行验证。

## 解决的问题

* 系统测试和集成测试不容易覆盖一些代码细节，难以做到很高的代码覆盖率；测试驱动开发编写的测试一般是单元测试，而且由开发者编写，针对单个模块容易做到各个情景的测试覆盖。
* 系统测试和集成测试太慢；单元测试快。
* 测试人员添加测试对功能或者BUG进行回归的周期太长，反馈不及时，不利于开发积极性；测试驱动开发测试先行，每次聚焦一个细粒度问题，测试通过表示问题解决，反馈及时开发容易有成就感。
* 测试人员添加测试对功能或者BUG进行回归的周期太长，如果开发团队较大或者对某个模块的修改比较频繁，可能会因为回归不及时造成功能被破坏或者修复的BUG重现；测试驱动开发测试先行，不会有回归不及时的情况。
* 使用系统测试或集成测试对功能或BUG进行回归，很难聚焦和定位问题；测试驱动开发每个测试只覆盖一个情景，一旦测试失败，几乎不需要调试就知道问题出在什么地方。
* 调试难，有时调试一个问题需要几天，调试的效率和方便性比较依赖于开发环境和开发工具；测试驱动开发可以减少很多调试。

## 优缺点

### 优点

1. 测试即文档，单元测试是不会说谎的文档。
2. 测试驱动开发是对开发的限制，如果测试写得好，程序的设计就不会太差，模块的耦合性就不会太强，BUG就不会太多。
3. 修改代码的时候会比较有保障。
4. 编写测试时的过程可以帮助自己理解和细化需求，分解问题，然后逐个覆盖逐个解决，步步为营
5. 用测试驱动替代调试的好处，完成功能或者修复BUG的同时也完成回归



### 缺点

1. 增加代码量。测试代码是系统代码的两倍或更多，但是同时节省了调试程序及挑错时间
2. 