[TOC]



# #前言

## 一.代码应当易于理解

# 第一部分 表面层次的改进

## 二.把信息体现到名字中

## 三.不要误解的名字

## 四.审美

## 五.怎么写注释

> 关键思想：注释的目的是尽量帮助读者了解得和作者一样多

### 什么不需要注释

> 关键思想：不要为那些从代码本身就能快速推断的事实写注释

1. 不要为了注释而注释
2. 不要给不好的名字加注释—应该把名字改好（一个好的名字比一个好的注释更重要）

  **好代码 > 坏代码 + 坏注释**

### 记录你的思想

1. 加入“导演评论”

2. 为代码中的瑕疵写注释，如：

   ```
   // TODO:采用更快的算法
   // TODO:处理除JPEG以外的图像格式
   ```

   几种注释标识：

   | 标识     | 意义                   |
   | ------ | -------------------- |
   | TODO:  | 我还没处理的事情             |
   | FIXME: | 已知的无法运行的代码           |
   | HACK:  | 对一个问题不得不采用的比较粗糙的解决方案 |
   | XXX:   | 危险，这里有更重要的问题         |

3. 给常量加注释

### 站在读者的角度

> 换个说法：想象你的代码对于外人来讲看起来是什么样子的

1. 意料之中的提问

2. 功不可能存在的缺陷

   需要“未雨绸缪”，预料到人们使用你的代码可能会遇到什么问题

3. “ 全局观 ”注释

   ```
   //这个文件包含一些辅助函数，为我们的文件系统提供了更便利的接口
   //他处理了文件权限及其他基本的细节
   ```

4. 总结性注释

   注释其后的底层代码

5. 用注释来总结代码快，使读者不至于迷失在细节中

## 六.写出言简意赅的注释

> **关键思想**
>
> 注释应该有很高的信息/空间率

1. 让注释保持紧凑

2. 避免使用不明确的代词

   避免使用像“ it ”和“ this ”这样可能代表很多事物的代词

3. 润色粗糙的句子

4. 准确地描述函数的行为

5. 用输入/输出例子来说明特别情况

6. 声明代码的意图

   声明代码的高层次意图，而非明显的细节

7. "具名函数参数"的注释

   用嵌入的注释来解释难理解的函数参数

8. 采用信息含量高的词

# 第二部分 简化循环和逻辑

## 七.把控制流变得易读

> **关键思想**
>
> 把条件、循环以及其他对控制流的改变做得越自然越好。运用一种方式使读者不用停下来重读你的代码

1. 条件语句中参数的顺序

   避免使用` if(obj === NULL) `，而是使用` if(NULL === obj) `

2. if/else 语句块的顺序

   - 首先处理正逻辑而非负逻辑
   - 先处理掉简单的情况
   - 先处理有趣的或者是可以的情况

3. 三目运算符

   > 相对于追求最小化代码行数，一个更好的度量方法是最小化人们理解它所需的时间
   >
   > 默认情况下都使用`if/else`，三目运算符 `?: `只有在最简单的情况下使用

4. 避免do/while循环

5. 从函数提前返回

6. 避免goto

7. 最小化嵌套


## 八.拆分超长的表达式

> **关键思想**
>
> 把超长的表达式拆分成更容易理解的小块

1. 用做解释的变量

   拆分表达式最简单的方式就是引入一个额外的变量，这个额外的变量有时叫做 ‘ 解释变量 ’

2. 不要滥用布尔操作

   > **关键思想**
   >
   > 要小心“智能”的小代码块 —— 往往在以后会让人读起来感到困惑

3. 使用德摩根定理来操作逻辑表达式

   ```
   1) not (a or b or c) <=> (not a) and (not b) and (not c) 
   2) not (a and b and c) <=> (not a) or (not b) or (not c)
   ```

   举个栗子：

   ```javascript
   if(!(file_exists && !is_protected)){
      throw new Error("Sorry, could read file.")
   }
   ```

   可以改成：

   ```javascript
   if(!file_exists || is_protected){
      throw new Error("Sorry, could read file.")
   }
   ```

## 九.变量与可读性

> 三个问题：
>
> 1. 变量越多，就越难全部跟踪它们的去向
> 2. 变量的作用域越大，机会需要跟踪它的动向越久
> 3. 变量改变的越频繁，就越难以跟踪它的当前值

### 减少变量

1. 减少没有价值的临时变量
2. 减少中间结果
3. 减少控制流变量（你希望你的同事随时都觉得实在面试吗？）

### 缩小变量的作用域

> **关键思想**
>
> 让你的变量对尽量少的代码可见

### 只写一次的变量更好

只设置一次值得变量（或者const、final、常量）使得代码更容易理解

# 第三部分 重新组织代码

- 抽取出那些与程序主要目的不相关的子问题
- 重新组织代码使它一次只做一件事
- 先用自然语言描述代码，然后用这个描述来帮助你找到更整洁的解决方案






